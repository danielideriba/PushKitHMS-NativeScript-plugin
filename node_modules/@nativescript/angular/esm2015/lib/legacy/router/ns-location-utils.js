export class Outlet {
    constructor(outletKey, path, pathByOutlets, modalNavigationDepth) {
        // More than one frame available when using NSEmptyOutletComponent component
        // in module that lazy loads children (loadChildren) and has outlet name.
        this.frames = [];
        this.states = [];
        // Used in reuse-strategy by its children to determine if they should be detached too.
        this.shouldDetach = true;
        this.outletKeys = [outletKey];
        this.isPageNavigationBack = false;
        this.showingModal = false;
        this.modalNavigationDepth = modalNavigationDepth || 0;
        this.pathByOutlets = pathByOutlets;
        this.path = path;
    }
    containsFrame(frame) {
        return this.frames.indexOf(frame) > -1;
    }
    peekState() {
        if (this.states.length > 0) {
            return this.states[this.states.length - 1];
        }
        return null;
    }
    containsTopState(stateUrl) {
        const lastState = this.peekState();
        return lastState && lastState.segmentGroup.toString() === stateUrl;
    }
    // Search for frame that can go back.
    // Nested 'primary' outlets could result in Outlet with multiple navigatable frames.
    getFrameToBack() {
        let frame = this.frames[this.frames.length - 1];
        if (!this.isNSEmptyOutlet) {
            for (let index = this.frames.length - 1; index >= 0; index--) {
                const currentFrame = this.frames[index];
                if (currentFrame.canGoBack()) {
                    frame = currentFrame;
                    break;
                }
            }
        }
        return frame;
    }
}
export const defaultNavOptions = {
    clearHistory: false,
    animated: true,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnMtbG9jYXRpb24tdXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL2xlZ2FjeS9yb3V0ZXIvbnMtbG9jYXRpb24tdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBaUJBLE1BQU0sT0FBTyxNQUFNO0lBdUJqQixZQUFZLFNBQWlCLEVBQUUsSUFBWSxFQUFFLGFBQXFCLEVBQUUsb0JBQTZCO1FBYmpHLDRFQUE0RTtRQUM1RSx5RUFBeUU7UUFDekUsV0FBTSxHQUFpQixFQUFFLENBQUM7UUFNMUIsV0FBTSxHQUF5QixFQUFFLENBQUM7UUFHbEMsc0ZBQXNGO1FBQ3RGLGlCQUFZLEdBQVksSUFBSSxDQUFDO1FBRTNCLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsb0JBQW9CLEdBQUcsS0FBSyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBQzFCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxvQkFBb0IsSUFBSSxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7UUFDbkMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVELGFBQWEsQ0FBQyxLQUFZO1FBQ3hCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELFNBQVM7UUFDUCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUMxQixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDNUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxRQUFnQjtRQUMvQixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDbkMsT0FBTyxTQUFTLElBQUksU0FBUyxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsS0FBSyxRQUFRLENBQUM7SUFDckUsQ0FBQztJQUVELHFDQUFxQztJQUNyQyxvRkFBb0Y7SUFDcEYsY0FBYztRQUNaLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUU7WUFDekIsS0FBSyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRTtnQkFDNUQsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDeEMsSUFBSSxZQUFZLENBQUMsU0FBUyxFQUFFLEVBQUU7b0JBQzVCLEtBQUssR0FBRyxZQUFZLENBQUM7b0JBQ3JCLE1BQU07aUJBQ1A7YUFDRjtTQUNGO1FBRUQsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0NBQ0Y7QUFFRCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBc0I7SUFDbEQsWUFBWSxFQUFFLEtBQUs7SUFDbkIsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRnJhbWUsIE5hdmlnYXRpb25UcmFuc2l0aW9uIH0gZnJvbSAnQG5hdGl2ZXNjcmlwdC9jb3JlJztcbmltcG9ydCB7IERlZmF1bHRVcmxTZXJpYWxpemVyLCBVcmxTZWdtZW50R3JvdXAsIFVybFRyZWUsIEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIFBhcmFtcyB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb25TdGF0ZSB7XG4gIHF1ZXJ5UGFyYW1zOiBQYXJhbXM7XG4gIHNlZ21lbnRHcm91cDogVXJsU2VnbWVudEdyb3VwO1xuICBpc1Jvb3RTZWdtZW50R3JvdXA6IGJvb2xlYW47XG4gIGlzUGFnZU5hdmlnYXRpb246IGJvb2xlYW47XG4gIGZyYW1lPzogRnJhbWU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGlvbk9wdGlvbnMge1xuICBjbGVhckhpc3Rvcnk/OiBib29sZWFuO1xuICBhbmltYXRlZD86IGJvb2xlYW47XG4gIHRyYW5zaXRpb24/OiBOYXZpZ2F0aW9uVHJhbnNpdGlvbjtcbn1cblxuZXhwb3J0IGNsYXNzIE91dGxldCB7XG4gIHNob3dpbmdNb2RhbDogYm9vbGVhbjtcbiAgbW9kYWxOYXZpZ2F0aW9uRGVwdGg6IG51bWJlcjtcbiAgcGFyZW50OiBPdXRsZXQ7XG4gIGlzUGFnZU5hdmlnYXRpb25CYWNrOiBib29sZWFuO1xuXG4gIC8vIE1vcmUgdGhhbiBvbmUga2V5IGF2YWlsYWJsZSB3aGVuIHVzaW5nIE5TRW1wdHlPdXRsZXRDb21wb25lbnQgY29tcG9uZW50XG4gIC8vIGluIG1vZHVsZSB0aGF0IGxhenkgbG9hZHMgY2hpbGRyZW4gKGxvYWRDaGlsZHJlbikgYW5kIGhhcyBvdXRsZXQgbmFtZS5cbiAgb3V0bGV0S2V5czogQXJyYXk8c3RyaW5nPjtcblxuICAvLyBNb3JlIHRoYW4gb25lIGZyYW1lIGF2YWlsYWJsZSB3aGVuIHVzaW5nIE5TRW1wdHlPdXRsZXRDb21wb25lbnQgY29tcG9uZW50XG4gIC8vIGluIG1vZHVsZSB0aGF0IGxhenkgbG9hZHMgY2hpbGRyZW4gKGxvYWRDaGlsZHJlbikgYW5kIGhhcyBvdXRsZXQgbmFtZS5cbiAgZnJhbWVzOiBBcnJheTxGcmFtZT4gPSBbXTtcbiAgLy8gVGhlIHVybCBwYXRoIHRvIHRoZSBPdXRsZXQuXG4gIC8vIEUuRzogdGhlIHBhdGggdG8gT3V0bGV0MyB0aGF0IGlzIG5lc3RlZCBPdXRsZXQxKGhvbWUpLT5PdXRsZXQyKG5lc3RlZDEpLT5PdXRsZXQzKG5lc3RlZDIpXG4gIC8vIHdpbGwgYmUgJ2hvbWUvbmVzdGVkMSdcbiAgcGF0aDogc3RyaW5nO1xuICBwYXRoQnlPdXRsZXRzOiBzdHJpbmc7XG4gIHN0YXRlczogQXJyYXk8TG9jYXRpb25TdGF0ZT4gPSBbXTtcbiAgaXNOU0VtcHR5T3V0bGV0OiBib29sZWFuO1xuXG4gIC8vIFVzZWQgaW4gcmV1c2Utc3RyYXRlZ3kgYnkgaXRzIGNoaWxkcmVuIHRvIGRldGVybWluZSBpZiB0aGV5IHNob3VsZCBiZSBkZXRhY2hlZCB0b28uXG4gIHNob3VsZERldGFjaDogYm9vbGVhbiA9IHRydWU7XG4gIGNvbnN0cnVjdG9yKG91dGxldEtleTogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIHBhdGhCeU91dGxldHM6IHN0cmluZywgbW9kYWxOYXZpZ2F0aW9uRGVwdGg/OiBudW1iZXIpIHtcbiAgICB0aGlzLm91dGxldEtleXMgPSBbb3V0bGV0S2V5XTtcbiAgICB0aGlzLmlzUGFnZU5hdmlnYXRpb25CYWNrID0gZmFsc2U7XG4gICAgdGhpcy5zaG93aW5nTW9kYWwgPSBmYWxzZTtcbiAgICB0aGlzLm1vZGFsTmF2aWdhdGlvbkRlcHRoID0gbW9kYWxOYXZpZ2F0aW9uRGVwdGggfHwgMDtcbiAgICB0aGlzLnBhdGhCeU91dGxldHMgPSBwYXRoQnlPdXRsZXRzO1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gIH1cblxuICBjb250YWluc0ZyYW1lKGZyYW1lOiBGcmFtZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZyYW1lcy5pbmRleE9mKGZyYW1lKSA+IC0xO1xuICB9XG5cbiAgcGVla1N0YXRlKCk6IExvY2F0aW9uU3RhdGUge1xuICAgIGlmICh0aGlzLnN0YXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZXNbdGhpcy5zdGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29udGFpbnNUb3BTdGF0ZShzdGF0ZVVybDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbGFzdFN0YXRlID0gdGhpcy5wZWVrU3RhdGUoKTtcbiAgICByZXR1cm4gbGFzdFN0YXRlICYmIGxhc3RTdGF0ZS5zZWdtZW50R3JvdXAudG9TdHJpbmcoKSA9PT0gc3RhdGVVcmw7XG4gIH1cblxuICAvLyBTZWFyY2ggZm9yIGZyYW1lIHRoYXQgY2FuIGdvIGJhY2suXG4gIC8vIE5lc3RlZCAncHJpbWFyeScgb3V0bGV0cyBjb3VsZCByZXN1bHQgaW4gT3V0bGV0IHdpdGggbXVsdGlwbGUgbmF2aWdhdGFibGUgZnJhbWVzLlxuICBnZXRGcmFtZVRvQmFjaygpOiBGcmFtZSB7XG4gICAgbGV0IGZyYW1lID0gdGhpcy5mcmFtZXNbdGhpcy5mcmFtZXMubGVuZ3RoIC0gMV07XG5cbiAgICBpZiAoIXRoaXMuaXNOU0VtcHR5T3V0bGV0KSB7XG4gICAgICBmb3IgKGxldCBpbmRleCA9IHRoaXMuZnJhbWVzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgY29uc3QgY3VycmVudEZyYW1lID0gdGhpcy5mcmFtZXNbaW5kZXhdO1xuICAgICAgICBpZiAoY3VycmVudEZyYW1lLmNhbkdvQmFjaygpKSB7XG4gICAgICAgICAgZnJhbWUgPSBjdXJyZW50RnJhbWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnJhbWU7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHROYXZPcHRpb25zOiBOYXZpZ2F0aW9uT3B0aW9ucyA9IHtcbiAgY2xlYXJIaXN0b3J5OiBmYWxzZSxcbiAgYW5pbWF0ZWQ6IHRydWUsXG59O1xuIl19