import { Inject, InjectionToken } from '@angular/core';
import { DEVICE } from './tokens';
import { platformNames } from '@nativescript/core';
export class PlatformNamespaceFilter {
    constructor(device) {
        this.device = device;
    }
    runsIn(namespace, next) {
        if (namespace === 'android') {
            return this.device.os === platformNames.android;
        }
        if (namespace === 'ios') {
            return this.device.os === platformNames.ios;
        }
        return next(namespace);
    }
}
PlatformNamespaceFilter.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Inject, args: [DEVICE,] }] }
];
export const NAMESPACE_FILTERS = new InjectionToken('NativeScriptNamespaceFilter');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcGVydHktZmlsdGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9wcm9wZXJ0eS1maWx0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkQsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUNsQyxPQUFPLEVBQVUsYUFBYSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFNM0QsTUFBTSxPQUFPLHVCQUF1QjtJQUNsQyxZQUFvQyxNQUFxQjtRQUFyQixXQUFNLEdBQU4sTUFBTSxDQUFlO0lBQUcsQ0FBQztJQUM3RCxNQUFNLENBQUMsU0FBaUIsRUFBRSxJQUFnRDtRQUN4RSxJQUFJLFNBQVMsS0FBSyxTQUFTLEVBQUU7WUFDM0IsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxhQUFhLENBQUMsT0FBTyxDQUFDO1NBQ2pEO1FBQ0QsSUFBSSxTQUFTLEtBQUssS0FBSyxFQUFFO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEtBQUssYUFBYSxDQUFDLEdBQUcsQ0FBQztTQUM3QztRQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3pCLENBQUM7Ozs0Q0FUWSxNQUFNLFNBQUMsTUFBTTs7QUFZNUIsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxjQUFjLENBQW9CLDZCQUE2QixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBERVZJQ0UgfSBmcm9tICcuL3Rva2Vucyc7XG5pbXBvcnQgeyBEZXZpY2UsIHBsYXRmb3JtTmFtZXMgfSBmcm9tICdAbmF0aXZlc2NyaXB0L2NvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5hbWVzcGFjZUZpbHRlciB7XG4gIHJ1bnNJbihuYW1lc3BhY2U6IHN0cmluZywgbmV4dDogKG5hbWVzcGFjZTogc3RyaW5nKSA9PiBib29sZWFuIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyIGltcGxlbWVudHMgTmFtZXNwYWNlRmlsdGVyIHtcbiAgY29uc3RydWN0b3IoQEluamVjdChERVZJQ0UpIHByaXZhdGUgZGV2aWNlOiB0eXBlb2YgRGV2aWNlKSB7fVxuICBydW5zSW4obmFtZXNwYWNlOiBzdHJpbmcsIG5leHQ6IChuYW1lc3BhY2U6IHN0cmluZykgPT4gYm9vbGVhbiB8IHVuZGVmaW5lZCk6IGJvb2xlYW4gfCB1bmRlZmluZWQge1xuICAgIGlmIChuYW1lc3BhY2UgPT09ICdhbmRyb2lkJykge1xuICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmFuZHJvaWQ7XG4gICAgfVxuICAgIGlmIChuYW1lc3BhY2UgPT09ICdpb3MnKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMuaW9zO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dChuYW1lc3BhY2UpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBOQU1FU1BBQ0VfRklMVEVSUyA9IG5ldyBJbmplY3Rpb25Ub2tlbjxOYW1lc3BhY2VGaWx0ZXJbXT4oJ05hdGl2ZVNjcmlwdE5hbWVzcGFjZUZpbHRlcicpO1xuIl19